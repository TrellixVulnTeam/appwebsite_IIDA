{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/appwebsite/src/views/DPI/DPI.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport ProductDataUI from 'components/ProductPage/ProductDataUI';\nimport { DefiPulseIndex } from 'constants/productTokens';\nimport useBalances from 'hooks/useBalances';\nimport useDpiTokenMarketData from 'hooks/useDpiTokenMarketData';\nimport useLocalStorage from 'hooks/useLocalStorage';\nimport useSetComponents from 'hooks/useSetComponents';\nimport useStreamingFee from 'hooks/useStreamingFee';\nimport useTokenSupply from 'hooks/useTokenSupply';\nimport useWallet from 'hooks/useWallet';\nimport BigNumber from 'utils/bignumber';\nimport { MAINNET_CHAIN_DATA, POLYGON_CHAIN_DATA } from 'utils/connectors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DpiProductPage = props => {\n  _s();\n\n  useEffect(() => {\n    document.title = props.title;\n  }, [props.title]);\n  const {\n    prices,\n    hourlyPrices,\n    latestPrice,\n    latestMarketCap,\n    latestVolume\n  } = useDpiTokenMarketData();\n  const {\n    chainId\n  } = useWallet();\n  const {\n    dpiBalance,\n    dpiBalancePolygon\n  } = useBalances();\n  const {\n    dpiStreamingFee\n  } = useStreamingFee();\n  const {\n    dpiTotalSupply\n  } = useTokenSupply();\n  const {\n    dpiComponents: components\n  } = useSetComponents();\n  const token = { ...DefiPulseIndex,\n    fees: dpiStreamingFee ? {\n      streamingFee: dpiStreamingFee\n    } : undefined\n  };\n\n  const getTokenBalance = () => {\n    if (chainId) {\n      if (chainId === MAINNET_CHAIN_DATA.chainId) return dpiBalance;else if (chainId === POLYGON_CHAIN_DATA.chainId) return dpiBalancePolygon;\n    }\n\n    return new BigNumber(0);\n  };\n\n  const tokenDataProps = {\n    prices: prices,\n    hourlyPrices: hourlyPrices,\n    latestPrice: latestPrice,\n    latestMarketCap: latestMarketCap,\n    latestVolume: latestVolume,\n    token: token,\n    components: components,\n    balance: getTokenBalance(),\n    currentSupply: dpiTotalSupply\n  };\n  const [, setReferral] = useLocalStorage('referral', '');\n  const history = useHistory();\n  const params = new URLSearchParams(history.location.search);\n  const value = params.get('referral');\n  useEffect(() => {\n    if (value) setReferral(value);\n  }, [value, setReferral]);\n  return /*#__PURE__*/_jsxDEV(ProductDataUI, {\n    tokenDataProps: tokenDataProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this);\n};\n\n_s(DpiProductPage, \"zI7MH8YGspP1Nx04JGMh1lFQT2M=\", false, function () {\n  return [useDpiTokenMarketData, useWallet, useBalances, useStreamingFee, useTokenSupply, useSetComponents, useLocalStorage, useHistory];\n});\n\n_c = DpiProductPage;\nconst StyledDpiIndexCalculationImage = styled.img`\n  margin-bottom: 20px;\n  width: 100%;\n`;\nexport default DpiProductPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DpiProductPage\");","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/appwebsite/src/views/DPI/DPI.tsx"],"names":["React","useEffect","useHistory","styled","ProductDataUI","DefiPulseIndex","useBalances","useDpiTokenMarketData","useLocalStorage","useSetComponents","useStreamingFee","useTokenSupply","useWallet","BigNumber","MAINNET_CHAIN_DATA","POLYGON_CHAIN_DATA","DpiProductPage","props","document","title","prices","hourlyPrices","latestPrice","latestMarketCap","latestVolume","chainId","dpiBalance","dpiBalancePolygon","dpiStreamingFee","dpiTotalSupply","dpiComponents","components","token","fees","streamingFee","undefined","getTokenBalance","tokenDataProps","balance","currentSupply","setReferral","history","params","URLSearchParams","location","search","value","get","StyledDpiIndexCalculationImage","img"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport styled from 'styled-components'\n\nimport ProductDataUI, {\n  TokenDataProps,\n} from 'components/ProductPage/ProductDataUI'\nimport { DefiPulseIndex, ProductToken } from 'constants/productTokens'\nimport useBalances from 'hooks/useBalances'\nimport useDpiTokenMarketData from 'hooks/useDpiTokenMarketData'\nimport useLocalStorage from 'hooks/useLocalStorage'\nimport useSetComponents from 'hooks/useSetComponents'\nimport useStreamingFee from 'hooks/useStreamingFee'\nimport useTokenSupply from 'hooks/useTokenSupply'\nimport useWallet from 'hooks/useWallet'\nimport BigNumber from 'utils/bignumber'\nimport { MAINNET_CHAIN_DATA, POLYGON_CHAIN_DATA } from 'utils/connectors'\n\nconst DpiProductPage = (props: { title: string }) => {\n  useEffect(() => {\n    document.title = props.title\n  }, [props.title])\n\n  const { prices, hourlyPrices, latestPrice, latestMarketCap, latestVolume } =\n    useDpiTokenMarketData()\n  const { chainId } = useWallet()\n  const { dpiBalance, dpiBalancePolygon } = useBalances()\n  const { dpiStreamingFee } = useStreamingFee()\n  const { dpiTotalSupply } = useTokenSupply()\n  const { dpiComponents: components } = useSetComponents()\n\n  const token: ProductToken = {\n    ...DefiPulseIndex,\n    fees: dpiStreamingFee ? { streamingFee: dpiStreamingFee } : undefined,\n  }\n\n  const getTokenBalance = () => {\n    if (chainId) {\n      if (chainId === MAINNET_CHAIN_DATA.chainId) return dpiBalance\n      else if (chainId === POLYGON_CHAIN_DATA.chainId) return dpiBalancePolygon\n    }\n    return new BigNumber(0)\n  }\n\n  const tokenDataProps: TokenDataProps = {\n    prices: prices,\n    hourlyPrices: hourlyPrices,\n    latestPrice: latestPrice,\n    latestMarketCap: latestMarketCap,\n    latestVolume: latestVolume,\n    token: token,\n    components: components,\n    balance: getTokenBalance(),\n    currentSupply: dpiTotalSupply,\n  }\n\n  const [, setReferral] = useLocalStorage('referral', '')\n\n  const history = useHistory()\n  const params = new URLSearchParams(history.location.search)\n  const value = params.get('referral')\n  useEffect(() => {\n    if (value) setReferral(value)\n  }, [value, setReferral])\n\n  return <ProductDataUI tokenDataProps={tokenDataProps} />\n}\n\nconst StyledDpiIndexCalculationImage = styled.img`\n  margin-bottom: 20px;\n  width: 100%;\n`\n\nexport default DpiProductPage\n"]},"metadata":{},"sourceType":"module"}