{"ast":null,"code":"var _s = $RefreshSig$();\n\nconst {\n  GoogleSpreadsheet\n} = require('google-spreadsheet');\n\nconst trackReferral = async (referral, transactionId, transactionStatus, currencyId, productId, isBuyOrder) => {\n  _s();\n\n  try {\n    const credentials = JSON.parse(process.env.REACT_APP_REFERRAL_GOOGLE_API_KEY);\n    const SHEET_ID = process.env.REACT_APP_REFERRAL_GOOGLE_SHEET_ID;\n    const doc = new GoogleSpreadsheet(SHEET_ID);\n    doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[0];\n    await sheet.addRow({\n      referral_id: referral,\n      transaction_id: transactionId,\n      transaction_status: transactionStatus,\n      product_id: productId,\n      currency_id: currencyId,\n      is_buy_order: isBuyOrder\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n_s(trackReferral, \"XzZzjmf42T4ghIIVsLcPZIIQRXQ=\", true);\n\nexport default trackReferral;","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/appwebsite/src/utils/referralApi.ts"],"names":["GoogleSpreadsheet","require","trackReferral","referral","transactionId","transactionStatus","currencyId","productId","isBuyOrder","credentials","JSON","parse","process","env","REACT_APP_REFERRAL_GOOGLE_API_KEY","SHEET_ID","REACT_APP_REFERRAL_GOOGLE_SHEET_ID","doc","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","addRow","referral_id","transaction_id","transaction_status","product_id","currency_id","is_buy_order","err","console","error"],"mappings":";;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAwBC,OAAO,CAAC,oBAAD,CAArC;;AAEA,MAAMC,aAAa,GAAG,OACpBC,QADoB,EAEpBC,aAFoB,EAGpBC,iBAHoB,EAIpBC,UAJoB,EAKpBC,SALoB,EAMpBC,UANoB,KAOjB;AAAA;;AACH,MAAI;AACF,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAClBC,OAAO,CAACC,GAAR,CAAYC,iCADM,CAApB;AAGA,UAAMC,QAAQ,GAAGH,OAAO,CAACC,GAAR,CAAYG,kCAA7B;AACA,UAAMC,GAAG,GAAG,IAAIjB,iBAAJ,CAAsBe,QAAtB,CAAZ;AAEAE,IAAAA,GAAG,CAACC,qBAAJ,CAA0BT,WAA1B;AACA,UAAMQ,GAAG,CAACE,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGH,GAAG,CAACI,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,MAAN,CAAa;AACjBC,MAAAA,WAAW,EAAEpB,QADI;AAEjBqB,MAAAA,cAAc,EAAEpB,aAFC;AAGjBqB,MAAAA,kBAAkB,EAAEpB,iBAHH;AAIjBqB,MAAAA,UAAU,EAAEnB,SAJK;AAKjBoB,MAAAA,WAAW,EAAErB,UALI;AAMjBsB,MAAAA,YAAY,EAAEpB;AANG,KAAb,CAAN;AAQD,GAlBD,CAkBE,OAAOqB,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CA7BD;;GAAM3B,a;;AA+BN,eAAeA,aAAf","sourcesContent":["const { GoogleSpreadsheet } = require('google-spreadsheet')\n\nconst trackReferral = async (\n  referral: string,\n  transactionId: string,\n  transactionStatus: string,\n  currencyId: string,\n  productId: string,\n  isBuyOrder: boolean\n) => {\n  try {\n    const credentials = JSON.parse(\n      process.env.REACT_APP_REFERRAL_GOOGLE_API_KEY!\n    )\n    const SHEET_ID = process.env.REACT_APP_REFERRAL_GOOGLE_SHEET_ID\n    const doc = new GoogleSpreadsheet(SHEET_ID)\n\n    doc.useServiceAccountAuth(credentials)\n    await doc.loadInfo()\n    const sheet = doc.sheetsByIndex[0]\n    await sheet.addRow({\n      referral_id: referral,\n      transaction_id: transactionId,\n      transaction_status: transactionStatus,\n      product_id: productId,\n      currency_id: currencyId,\n      is_buy_order: isBuyOrder,\n    })\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nexport default trackReferral\n"]},"metadata":{},"sourceType":"module"}